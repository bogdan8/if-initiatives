<!DOCTYPE html>
<html>
  <head>
    <title><%= "#{yield(:site_title)} Initiatives" %></title>
    <%= csrf_meta_tags %>

    <%= stylesheet_link_tag 'application', media: 'all' %>
    <%= javascript_include_tag 'application' %>
  </head>

  <% flash.each do |name, msg| %>
    <p> <%= msg %> </p>
  <% end %>

  <ul>
    <li><%= link_to t('views.pages.global.initiatives'), initiatives_path %></li>
    <% unless user_signed_in? %>
      <li><%= link_to t('views.pages.global.sign_in'), new_user_session_path %></li>
      <li><%= link_to t('views.pages.global.registration'), new_user_registration_path %></li>
    <% end %>
    <% if user_signed_in? %>
      <% if current_user.has_role? :administrator %>
        <li><%= t('views.pages.global.role.administrator') %>:</li>
        <li><%= link_to t('views.pages.global.initiatives'), administration_initiatives_path %></li>
        <li><%= link_to t('views.pages.global.categories'), administration_categories_path %></li>
        <li><%= link_to t('views.pages.global.users'), administration_users_path %></li>
        <li><%= link_to t('views.pages.global.confirmating'), confirmating_administration_initiatives_path %></li>
        <li><%= link_to t('views.pages.global.fundraising'), fundraising_administration_initiatives_path %></li>
        <li><%= link_to t('views.pages.global.implementing'), implementing_administration_initiatives_path %></li>
      <% end %>
      
      <% if current_user.has_role? :moderator %>
        <li><%=  t('views.pages.global.role.moderator') %>:</li>
      <% end %>

      <% if current_user.has_role? :user %>
        <li><%=t('views.pages.global.role.user') %>:</li>
        <li><%= link_to t('views.pages.global.initiatives'), users_initiatives_path %></li>
      <% end %>
      <li><%= link_to t('views.pages.global.profile_edit'), edit_user_registration_path %></li>
      <li><%= link_to t('views.pages.global.sign_out'), destroy_user_session_path, method: :delete %></li>
    <% end %>
  </ul>

  <body>
    <%= yield %>
  </body>
</html>
